import requests
import re
import base64
from fontTools.ttLib import TTFont
from io import BytesIO

import xml.dom.minidom as xmldom
import os

response = requests.get(url="https://www.china.cn/hunheji/3795900957.html").text
print(response)
result = re.search(r"base64,(.*?)\)", response, flags=re.S).group(1)
# print("result  "+result)

# result = "T1RUTwAJAIAAAwAQQ0ZGIPCss8QAAATsAAAEqk9TLzJlXV/IAAABAAAAAGBjbWFwAC4KzgAABAQAAADIaGVhZBjkTuQAAACcAAAANmhoZWEA3wBdAAAA1AAAACRobXR4CPoAAAAACZgAAAAsbWF4cAALUAAAAAD4AAAABm5hbWUKXYQxAAABYAAAAqNwb3N0AAMAAAAABMwAAAAgAAEAAAABAADgGUa+Xw889QADAQAAAAAA3KWIHAAAAADcpYgcAAT//wB+ALUAAAADAAIAAAAAAAAAAQAAAN3/xQAAAIwAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAsAAFAAAAsAAAADAH8B9AAFAAACigK7AAAAjAKKArsAAAHfADEBAgAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAACBYWFhYAEAAdQB+AN3/xQAAALUAAQAAAAEAAAAAAG8AtQAAAAAAAAAAACIBngABAAAAAAAAAAEAQgABAAAAAAABAAwAAAABAAAAAAACAAYAJAABAAAAAAADABUAxgABAAAAAAAEABMANgABAAAAAAAFAAsApQABAAAAAAAGABIAbwABAAAAAAAHAAEAQgABAAAAAAAIAAEAQgABAAAAAAAJAAEAQgABAAAAAAAKAAEAQgABAAAAAAALAAEAQgABAAAAAAAMAAEAQgABAAAAAAANAAEAQgABAAAAAAAOAAEAQgABAAAAAAAQAAwAAAABAAAAAAARAAYAJAADAAEECQAAAAIAYQADAAEECQABABgADAADAAEECQACAAwAKgADAAEECQADACoA2wADAAEECQAEACYASQADAAEECQAFABYAsAADAAEECQAGACQAgQADAAEECQAHAAIAYQADAAEECQAIAAIAYQADAAEECQAJAAIAYQADAAEECQAKAAIAYQADAAEECQALAAIAYQADAAEECQAMAAIAYQADAAEECQANAAIAYQADAAEECQAOAAIAYQADAAEECQAQABgADAADAAEECQARAAwAKk9wZW5UeXBlU2FucwBPAHAAZQBuAFQAeQBwAGUAUwBhAG4Ac01lZGl1bQBNAGUAZABpAHUAbU9wZW5UeXBlU2FucyBNZWRpdW0ATwBwAGUAbgBUAHkAcABlAFMAYQBuAHMAIABNAGUAZABpAHUAbU9wZW5UeXBlU2Fuc01lZGl1bQBPAHAA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"
b = base64.b64decode(result)
print(b)


with open("ztku09.woff", "wb")as f:
    f.write(b)

fonts = TTFont("ztku09.woff")
fonts.saveXML("ztku09.xml")  # 保存成xml 文件

tf = TTFont(BytesIO(b))
print(tf)
print(tf.getGlyphNames())
# print(tf.getGlyphID())
print(tf.getBestCmap())
print(tf.getGlyphOrder())

for i in tf.getGlyphNames()[1:]:
    print("i   "+i)
    # print(tf["CFF"])

if __name__ == '__main__':
    s = base64.b64decode("eyJTZWN1cml0eVRva2VuIjoiQ0FJU2h3TjFxNkZ0NUIyeWZTaklyNWJRTTkvMWhLOU0wTGFsV2svNnZVeGtTY05WbnZLZGd6ejJJSHBOZTNocUIrMGZzUGt3bEdsVTZmZ2Nsck1xRU00Y0hCS2JQWkVwdGNzT3ExTDVKcExGc3QySjZyOEpqc1YvcVljNTgxbXBzdlhKYXNEVkVmbDJFNVhFTWlJUi8wMGU2TC8rY2lyWXBUWEhWYlNDbFo5Z2FQa09Rd0M4ZGtBb0xkeEtKd3hrMnQxNFVtWFdPYVNDUHdMU2htUEJMVXhtdldnR2wyUnp1NHV5M3ZPZDVoZlpwMXI4eE80YXhlTDBQb1AyVjgxbExacGxlc3FwM0k0U2M3YmFnaFpVNGdscjhxbHg3c3BCNVN5Vmt0eVdHVWhKL3phTElvaXQ3TnBqZmlCMGVvUUFQb3BGcC9YNmp2QWF3UExVbTliWXhncGhCOFIrWGo3RFpZYXV4N0d6ZW9XVE84MCthS3p3TmxuVXo5bUxMZU9WaVE0L1ptOEJQdzQ0RUxoSWFGMElVRTF4Rm11Q2QvWDRvQXlhTzF2NkdwTG9pdjltamNCSHFIeno1c2VQS2xTMVJMR1U3RDBWSUpkVWJUbHpiVWRKakRhL0wvWllMbE1jS2c4NFdlaVBNYXgzYlFGRHI1M3ZzVGJiWHpaYjBtcHR1UG56ZHhBS0RqK2FxMUdVR29BQlgrSFhtbURMTmVEUmhxd2krMHBCa3NYQzd4STUveG1XbFoyTFoxcEFOaDhyc1R5UTFpTlZoQmRlS3ozWVpwMVJ1VmVsdEs2eUNpcTR2aHpVWDAvWnU0a1p6bWZ5ZVkvd1VTK2l5YjUwS1N3T0J0SVl6c1d2ZUlvdGR0YmFESERrZ252UTB4ME5veGZ6c0NnSExRcVhJUHVhRjFXV1B1OG4xWFpPenhsVm5Ycz0iLCJBdXRoSW5mbyI6IntcIkNJXCI6XCJpbC9qSCtBbVVoK0tzTGVMODk4ZWNLZUgrT2h5ZUtNWG4yMmtCWmVuaVd6UUIyUFQ0MTRvejdSMDZkYXp4SlRFXCIsXCJDYWxsZXJcIjpcIkxua2ZkU0dLU0RMaytnK2dQUis5UzJvUUNrMVRBTzlQQUgzVUlobTZQRUk9XCIsXCJFeHBpcmVUaW1lXCI6XCIyMDIxLTA0LTI1VDA4OjAxOjQ4WlwiLFwiTWVkaWFJZFwiOlwiNGM1ZjRhYTM0ZWRkNGIyNDk0OGQzMzdmODRiY2Y3ZWJcIixcIlBsYXlEb21haW5cIjpcInNqei5jaGluYS5jblwiLFwiU2lnbmF0dXJlXCI6XCJCc0R1eHJmWWxwanl0MUwwTGFMZkx6elpUYU09XCJ9IiwiVmlkZW9NZXRhIjp7IlN0YXR1cyI6Ik5vcm1hbCIsIlZpZGVvSWQiOiI0YzVmNGFhMzRlZGQ0YjI0OTQ4ZDMzN2Y4NGJjZjdlYiIsIlRpdGxlIjoi5puy6Zic5a6P54eK5bel6LS45pyJ6ZmQ5YWs5Y+4MTUzNjkwNzg0NCIsIkNvdmVyVVJMIjoiaHR0cHM6Ly9zanouY2hpbmEuY24vNGM1ZjRhYTM0ZWRkNGIyNDk0OGQzMzdmODRiY2Y3ZWIvY292ZXJzLzZmMDBjYTNmYzBhODQ3M2Y5NzA2NmZhYzg0YThkYTI2LTAwMDAxLmpwZyIsIkR1cmF0aW9uIjoxMC4wMDk0fSwiQWNjZXNzS2V5SWQiOiJTVFMuTlVleGVBaXBtZ3ROWGlLWUwxRUx5cTc2YSIsIlBsYXlEb21haW4iOiJzanouY2hpbmEuY24iLCJBY2Nlc3NLZXlTZWNyZXQiOiJIRDZhRmNTczdjSjUxNmZ4aDRwb1VoQ3R1NkZUbzZNUDZFZVZpY3NmekhjTCIsIlJlZ2lvbiI6ImNuLXNoYW5naGFpIiwiQ3VzdG9tZXJJZCI6MTM5MTE2NzgyMTM3MTI5MH0=")
    print(s)